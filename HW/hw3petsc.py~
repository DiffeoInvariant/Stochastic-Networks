import sys, petsc4py
petsc4py.init(sys.argv)

from petsc4py import PETSc
import numpy as np

def read_vec(filename, n, ret_type='numpy'):
    #ret_type can be numpy or petsc
    viewer = PETSc.Viewer().createBinary(filename, 'r')
    v = PETSc.Vec().load(viewer)

    if ret_type == 'numpy':
        return v.getArray()
    elif ret_type == 'petsc':
        return v
    else:
        raise NotImplementedError

    
